# inerview

米哈游的 Golang 面试题可能会包括以下几个方面12：



```
**进程和线程的区别：各自有什么优缺点？**

    进程是对运行时程序的封装，是系统进行资源调度和分配的的基本单位，实现了操作系统的并发；

    线程是进程的子任务，是CPU调度和分派的基本单位，用于保证程序的实时性，实现进程内部的并发；线程是操作系统可识别的最小执行和调度单位。
    
    每个线程都独自占用一个虚拟处理器：独自的寄存器组，指令计数器和处理器状态。每个线程完成不同的任务，但是共享同一地址空间（也就是同样的动态内存，映射文件，目标代码等等），
    打开的文件队列和其他内核资源。

    一个线程只能属于一个进程，而一个进程可以有多个线程

    进程在执行过程中拥有独立的内存单元，而多个线程共享进程的内存

    进程是资源分配的最小单位，线程是CPU调度的最小单位

**进程之间如何进行通信？**

    进程间通信的方式 : 管道、系统IPC（包括消息队列、信号量、信号、共享内存等）、以及套接字socket

    管道主要包括匿名管道PIPE和命名管道FIFO


```

```
**信号和信号量：什么是信号，信号量是如何实现的？**

    信号量semaphore
    信号量（semaphore）与已经介绍过的 IPC 结构不同，它是一个计数器，可以用来控制多个进程对共享资源的访问。信号量用于实现进程间的互斥与同步，而不是用于存储进程间通信数据

    数据结构为一个值和一个指针，指针指向等待该信号量的下一个进程。

```


```
**Go 语言的 GMP 模型：讲讲 Go 里面的 GMP 模型？**


```

```
** Map 的使用和原理：map 用过吧？怎么对 map 进行排序？讲讲 map 底层？为什么是无序的？**

    HashMap、Hashtable不是有序的
    TreeMap 默认 Key 升序 和LinkedHashMap是插入顺序

    GoLang
    Write, 无hash冲突，是hash到某一个bucket，而不是按顺序bucket
    Write，有hash冲突，是hash到同一个bucket
```

```
TCP 连接：知道 TCP 连接吧？三次握手的目的是什么？那四次挥手有了解过吗？为什么是四次？什么是粘包和拆包？为什么会出现？怎么解决？

```

```
事务：什么是事务？那 redis 支持事务吗？

```
算法题：手撕链表，要求递归实现。

一级部门 游戏生成的平台 业务负责人 ，

Go 里面使用 Map 时应注意问题和数据结构？

可以通过定义 value 为 struct 来节约内存；
哈希分桶的结构，用哈希值的高八位和低八位分别来做桶内定位的依据和分桶的依据等；
Map 扩容是怎么做的？

依照 Redis 渐进式 rehash 的思路说了一版；
Map 的 panic 能被 recover 掉吗？了解 panic 和 recover 的机制吗？

不懂，但是实际上是不可以的，具体原因可以看看 Map 并发读写的时候抛出的是什么，是不是普通的 panic；
Map 怎么知道自己处于竞争状态？是 Go 编码实现的还是底层硬件实现的？

通过结构体中的标记位实现的，可能是通过 CAS 操作的；
CAS 具体是怎么实现的呢？

并发使用 Map 除了加锁还有什么其他方案吗？

有对比过 sync.Map 和加锁的区别吗？

说一下（Redis）分布式锁的实现？

setnx / 唯一 value / ttl
基于 Redis 的分布式锁会有什么问题？

主从模型下同步不保证一致会导致锁失效
Redis 分布式锁超时可以超时时间设长一点可以吗？不可以的话需要怎么解决？

不根本解决问题，可以考虑旁路的 goroutine 不断自旋续期
对 Redis 锁续期这个怎么实现呢？

日常在用的 Redis 集群都是什么架构？在主从模式和 Redis Cluster 中分布式锁会有什么问题？

